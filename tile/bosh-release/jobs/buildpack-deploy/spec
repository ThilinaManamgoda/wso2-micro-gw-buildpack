---
name: buildpack-deploy
templates:
  buildpack-deploy.sh.erb: bin/run
  opsmgr.env.erb: bin/opsmgr.env
  config/micro-gw.conf: config/micro-gw.conf
packages:
- cf_cli
- openjdk
- buildpack_packager
- micro_gateway_runtime
- micro_gateway_toolkit
- buildpack_resources

properties:
  domain:
    description: 'CloudFoundry system domain'
  app_domains:
    description: 'CloudFoundry application domains'
  org:
    description: 'Org for the Application'
    default: ''
  space:
    description: 'Space for the Application'
    default: ''
  ssl.skip_cert_verify:
    description: 'Whether to verify SSL certs when making web requests'
  cf.admin_user:
    description: 'Username of the CF admin user'
  cf.admin_password:
    description: 'Password of the CF admin user'
  uaa.admin_client:
    description: 'Name of the UAA Admin Client'
  uaa.admin_client_secret:
    description: 'Password of the UAA Admin Client'
  apply_open_security_group:
    description: 'Open security group for the app to access outside'
    default: false
  allow_paid_service_plans:
    description: 'Allow use of paid service plans'
    default: false
  security.user:
    description: 'Basic auth user'
  security.password:
    description: 'Basic auth password'
  buildpack_order:
    description: 'Order of the Buildpack'
  analytics.enable:
    description: 'Enable Analytics'
  analytics.uploading_endpoint:
    description: 'Uploading endpoint'
  analytics.uploading_time_span_in_millis:
    description: 'Uploading timeSpan in Millis'
  analytics.rotating_period:
    description: 'Rotating period'
  analytics.task_uploadFiles:
    description: 'Task uploadFiles'
  analytics.username:
    description: 'Analytics username'
  analytics.password:
     description: 'Analytics password'
  keymanager.server_url:
    description: 'Server URL'
  keymanager.username:
    description: 'Key Manager username'
  keymanager.password:
    description: 'Key Manager password'
  keymanager.token_context:
    description: 'Token context'
  keymanager.timestamp_skew:
    description: 'Timestamp skew'

consumes:
